# veOmni + uv Guide

This document describes how to use `uv` (https://docs.astral.sh/uv) for dependency management in the veOmni project.

Note that we use the native "uv sync" interface instead of "uv pip" interface to enjoy the declaritive and reproducible dependency management.

## Prerequisites

- `uv` installed ([installation guide](https://docs.astral.sh/uv/getting-started/installation/))

## Installation

```bash
# For GPU
uv sync --extra gpu
# For Ascend NPU
uv sync --extra npu
# You can install other optional deps by adding --extra like --extra dit

# Activate the uv managed virtual environment
source .venv/bin/activate
```

Once the virtual environment is activated, you can start the training or run
any tests from there.

With `uv`, you don't have to worry about finding the latest docker image.
Since all the dependencies are declared and version controlled in `uv.lock` file,
once you pull the latest change and run `uv sync`, the virtual environment will be updated
to the latest version which our developers have tested.

## Support

For uv-specific issues:
- Check the [uv documentation](https://docs.astral.sh/uv/)
- Review `pyproject.toml` configuration
- Do not modify `uv.lock` manually which is auto generated by `uv sync`.
- Use `uv sync --verbose` for debugging

Tips:
- Use `override_dependencies` section to force a version in `pyproject.toml` if you encounter the package version conflict problem.
